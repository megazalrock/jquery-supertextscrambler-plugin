/*! jQuery Super Text Scrambler 2014-03-14
 *  Vertion : 0.1.0
 *  Dependencies : jQuery *
 *  Author : MegazalRock (Otto Kamiya)
 *  Copyright (c) 2014 MegazalRock (Otto Kamiya);
 *  License : */
(function(t,e){t.requestAnimationFrame=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){return t.setTimeout(function(){e(Date.now())},1e3/60)},t.cancelAnimationFrame=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||t.msCancelAnimationFrame||function(t){return clearTimeout(t)};var n=function(t,n){n=n||{},this.options=e.extend(!0,{mode:"en",wait:1e3,fps:30,textFps:30},n),this.text=t,this.length=t.length,this.currentTextLength=0,this.currentText=""};n.prototype.init=function(t){var e=this;e.$target=t,e.currentTextLength=0,e.currentText="",t.trigger("scramblerStart")},n.prototype.start=function(){var e,n,r,i=this,o=i.$target,a=i.length,u=i.options.mode,c=Date.now(),s=1e3/i.options.fps,m=c,x=1e3/i.options.textFps,h=Math.floor(i.options.textFps/30)+(i.options.textFps%30?1:0);setTimeout(function(){(function p(){n=Date.now(),i.rafId=t.requestAnimationFrame(p),e=n-c,r=n-m,a>i.currentTextLength?e>=s&&(r>=x?o.text(i.stepText(h)+i.getRndText(a-i.currentTextLength,u)):o.text(i.currentText+i.getRndText(a-i.currentTextLength,u)),c=n-e%s,m=n-r%x):(t.cancelAnimationFrame(i.rafId),i.end())})()},i.options.wait)},n.prototype.stepText=function(t){for(var e=this,n=0;t>n;n+=1)e.currentText=e.text.slice(0,e.currentTextLength+1),e.currentTextLength=e.currentText.length;return e.currentText},n.prototype.getRndText=function(t,e){e=e||"en";var n,r,i=[],o=0;for("en"===e?(n=65,r=122):(n=19968,r=40864);t>o;o++)i.push(String.fromCharCode(n+Math.floor(Math.random()*(r-n))));return i.join("")},n.prototype.end=function(){var t=this;t.$target.trigger("scramblerEnd")},e.extend({SuperTextScrambler:function(t,e){return new n(t,e)}}),e.fn.extend({superTextScrambler:function(t){return e(this).each(function(){var r=e(this),i=r.text();if((i+"").length){var o=r.data("SuperTextScrambler")||new n(i,t);o.init(r),o.start(),r.data("SuperTextScrambler",o)}}),this}})})(this,jQuery);